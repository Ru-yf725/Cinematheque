<!DOCTYPE html>
<html>
<head>
<title>Rapport.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<img src="https://raw.githubusercontent.com/Marshellson/Cinematheque/012237b44f73f83f6dd1a0b8080fd51150b10f6d/rapport_image/15232.svg" width="250px" />
<h1 id="center-projet-cin%C3%A9math%C3%A8que-center"><center> Projet Cinémathèque </center></h1>
<p>Contributeurs: JIANG Yilun, KANG Zhuodong, WANG Haoyu</p>
<p>Site GitHub: <a href="https://github.com/Marshellson/Cinematheque">Marshellson/Cinematheque</a></p>
<div style="page-break-after: always;"></div>
<h2 id="sommaire">Sommaire</h2>
<ul>
<li>
<p><a href="#contexte-du-d%C3%A9veloppement">Contexte du développement</a></p>
</li>
<li>
<p><a href="#analyse-des-exigences">Analyse des exigences</a></p>
</li>
<li>
<p><a href="#conception-des-contours">Conception des contours</a></p>
</li>
<li>
<p><a href="#conception-d%C3%A9taill%C3%A9e">Conception détaillée</a></p>
</li>
<li>
<p><a href="#r%C3%A9aliser">Réaliser</a></p>
</li>
<li>
<p><a href="#conclure">Conclure</a></p>
</li>
</ul>
<div style="page-break-after: always;"></div>
<h2 id="contexte-du-d%C3%A9veloppement">Contexte du développement</h2>
<p>Dans les années 1830, le cinéma entame sa période de préparation technologique prénatale, appelée aussi période d'invention, avec l'invention de la machine de cinéma optique par Renault en 1888, l'invention du cinématographe par Edison en 1889, et en 1895, alors que l'image se joue lentement, les frères Lumière réussissent à inventer la première génération d'appareils de projection cinématographique, une grande invention dans laquelle le film peut être vu par de nombreuses personnes ensemble et qu'il peut offrir à chacun une expérience à la fois inégalée et étonnante.</p>
<p>Et avec le développement des temps, la technologie cinématographique progresse, les effets des films sont plus réalistes, comme la 3D, la présentation des films et les appareils qui les lisent augmentent, et les films sont sauvegardés de plus en plus de manières, comme le Blu-ray, le DVD, etc., ce qui permet à un plus grand nombre de personnes de regarder des films, et la variété des films est plus abondante, mais comme de plus en plus de films sont réalisés dans le monde,la diversité dérange les gens. Nous ne pouvons pas nous souvenir des films que nous aimons, des films que nous avons regardés, des films que nous possédons, nous ne pouvons pas classer et organiser ces films de manière efficace, et il n'y a aucun programme sur le marché actuellement qui puisse à la fois intégrer sa propre bibliothèque de films et enregistrer les films qu'il possède et ceux qu'il a regardés.</p>
<p>Donc nous pensons qu'il y a un besoin pour un tel programme sur le marché aujourd'hui, et la conception de la programmation devient de plus en plus avancée de nos jours, et la base de données de films devient de plus en plus robuste, et les conditions sont très matures, et dans ce temps, nous avons décidé de choisir ce sujet de projet, et nous allons essayer d'utiliser ce que nous avons appris pour l'améliorer pour atteindre le but de notre projet, et nous serons les premiers à utiliser ce programme.</p>
<p>Ce projet consiste à créer un logiciel permettant de gérer les films/séries vues par des utilisateurs. Le projet est évolutif, c'est à dire que différentes versions peuvent être proposées, allant de la plus simple à la plus compliquée, de façon à ce que tous puissent, à la fin du semestre, proposer un logiciel en état de fonctionnement.</p>
<div style="page-break-after: always;"></div>
<h2 id="analyse-des-exigences">Analyse des exigences</h2>
<p>Après d'avoir décidé notre thème, nous avons eu une discussion animée sur notre sujet, et nous avons finalement déterminé nos besoins pour ce programme, et les fonctions du programme ont été résumées comme nécessitant les éléments suivants au total.</p>
<h3 id="1-g%C3%A9rer-la-biblioth%C3%A8que-de-films">1 Gérer la bibliothèque de films</h3>
<p>Gère les informations de base de tous les films de la bibliothèque, y compris l'ajout, la suppression, etc, et peut organiser les films en fonction de ces informations.</p>
<h3 id="2-g%C3%A9rer-la-base-de-donn%C3%A9es">2 Gérer la base de données</h3>
<p>Gérer les informations de base des films qui nous sont fournies par le site web, y compris les identifiants des films et la possibilité de sélectionner des films à ajouter à la bibliothèque de films. Ensuite, nous avons essayé de dessiner un aperçu de notre interface.</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/image0.jpg?raw=true" />
<p>Cette image est l'interface principale que nous avons dessinée à l'époque, nous avons dessiné l'interface avec notre liste de films sur le côté gauche, les détails des films sur le côté droit, et le titre, le filtre et l'ajout de films sur le côté droit au-dessus, tandis que la fonction de recherche est utilisée sur le côté gauche au-dessus, et nous avons décidé à l'époque que le bouton gauche de la souris peut supprimer les films dont nous n'avons pas besoin.</p>
<p>Après cela, nous nous sommes rendus ensemble sur le site <a href="https://developers.themoviedb.org/3">TheMovieDB</a>. C'est ce site web que nous devons utiliser pour notre thème, nous avons vérifié l'API de ce site web, et après avoir regardé les instructions du site web, nous avons eu une Après avoir regardé les instructions, nous avons discuté et finalement décidé que nous devions utiliser la grande section de films (Movies)de ce site.</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/IMG_0417.jpg?raw=true" />
<p>Dans ce site, nous obtiendrons les détails de nos films et leurs identifiants. Les identifiants des films permettront d'obtenir facilement des informations sur les films. Mais pour utiliser ce site, nous avons besoin de la clé API, donc nous nous sommes inscrits sur ce site et le site nous a donné la clé API.</p>
<div style="page-break-after: always;"></div>
<h2 id="conception-des-contours">Conception des contours</h2>
<h3 id="interface1-interface-utilisateur-principale">Interface1: Interface utilisateur principale</h3>
<p>Cette interface est globalement la même que celle que nous avons conçue auparavant, à l'exception de quelques modifications. En haut à gauche de l'interface principale se trouve le nom de notre programme (Cinématique) et à côté se trouvent nos deux boutons avec (ComboBox), le bouton (Ajouter) pour ajouter les films que nous possédons, le bouton (Supprimer) pour supprimer nos films et (ComboBox) que nous utilisons pour trier les films de notre cinémathèque. Nous avons pensé qu'il y avait trop peu de fonctionnalités pouvant être ajoutées au bouton droit de la souris, et nous avons donc décidé d'utiliser le bouton à sa place. En bas à gauche de cette interface principale se trouve notre bibliothèque de films(Library), qui affichera les films que nous avons ajoutés , lorsque nous pensons au nom du film ci-dessus, le côté droit de notre interface affichera l'affiche du film avec les détails du film, et en haut à droite de l'interface se trouvent le bouton de recherche et la barre de recherche, après avoir entré le nom du film dans la barre de recherche et cliqué sur le bouton de recherche, nous obtiendrons les résultats de la recherche de films.</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/Interface1.png?raw=true">
<h3 id="interface2-interface-de-recherche-de-film-par-lutilisateur">Interface2: Interface de recherche de film par l'utilisateur</h3>
<p>Lorsque nous cliquons sur le bouton de recherche de film, nous entrons dans cette interface - interface de recherche.Dans cette interface, le haut de notre interface est les films les plus pertinents que nous obtenons par la recherche de nom de film, lorsque nous cliquons sur le nom du film, l'affiche de ce film et les informations sommaires du film seront affichées en dessous du nom du film. En bas de l'interface de recherche se trouve le bouton d'ajouter, lorsque nous cliquons sur ce bouton, nous entrons dans l'interface d'ajouter.</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/Interface2.png?raw=true">
<h3 id="interface3-linterface-dajout-de-film-par-lutilisateur">Interface3: L'interface d'ajout de film par l'utilisateur</h3>
<p>Après avoir cliqué sur le bouton (Ajouter) dans l'interface principale, nous accédons à cette page, dans laquelle nous pouvons saisir le nom du film et choisir le type de film, lorsque nous cliquons sur le bouton(Ajouter), il sera ajouté à notre bibliothèque(Library).</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/Interface3.png?raw=true">
<h3 id="interface4-linterface-dajout-de-films-apr%C3%A8s-la-recherche-de-films-par-les-utilisateurs">Interface4: L'interface d'ajout de films après la recherche de films par les utilisateurs</h3>
<p>Après avoir cliqué sur le bouton (Ajouter)dans l'interface Rechercher des films, nous entrerons dans cette page, cette page affichera le nom du film et l'identifiant du film, nous pouvons également choisir le type de film à ajouter à notre bibliothèque(Library). Si le film de la liste de recherche existe déjà dans la bibliothèque(Library), l'utilisateur sera invité à indiquer dans le titre qu'il existe déjà dans la bibliothèque(Library).</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/Interface4.png?raw=true">
<div style="page-break-after: always;"></div>
<h2 id="conception-d%C3%A9taill%C3%A9e">Conception détaillée</h2>
<p>Après cela, nous avons discuté des cinq versions de notre sujet, lorsque nous avons fait la proposition initiale du programme pour mettre en œuvre ces cinq versions.</p>
<h3 id="version-1">Version 1</h3>
<p>Dans la version 1, nous avons créé une bibliothèque locale de films(Library) dans le programme, afin de pouvoir stocker les films que nous avons ajoutés. Nous allons utiliser le format CSV pour stocker nos films sauvegardés.</p>
<h3 id="version-2-et-version-3">Version 2 et Version 3</h3>
<p>Nous utiliserons la clé API que nous avons obtenue, nous utiliserons la méthode du site web pour nous connecter à la bibliothèque de films (Library)sur le site web, après quoi nous obtiendrons l'identifiant du film et le stockerons dans notre propre bibliothèque de films(Library), après quoi nous utiliserons la méthode du site web pour obtenir les détails du film par l'identifiant du film, puis nous afficherons les détails dans notre bibliothèque de films.</p>
<h3 id="version-4">Version 4</h3>
<p>Dans la version 4, nous utiliserons la même méthode que dans les versions 2 et 3, nous obtiendrons la date de sortie du film et le type de film par l'identifiant du film, puis nous l'afficherons dans notre bibliothèque(Library) de la même manière.</p>
<h3 id="version-5">Version 5</h3>
<p>Mais après avoir lu les livres d'apprentissage, nous n'avons pas réussi à trouver une solution.</p>
<p>Ensuite, voyons le graphe de dépendance relationnelle de notre programme:</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/UML.png?raw=true">
<div style="page-break-after: always;"></div>
<h2 id="r%C3%A9aliser">Réaliser</h2>
<h3 id="code-principale-dans-la-version-1">Code Principale dans la Version 1</h3>
<p>Cette section permet principalement aux utilisateurs d'entrer le film qu'ils veulent voir et de le stocker localement.</p>
<p>Nous voulons que les utilisateurs saisissent directement le film qu'ils veulent ajouter à la liste, nous avons éliminé la détection des films dupliqués afin que les utilisateurs puissent entrer le film qu'ils veulent voir plusieurs fois. Le film est stocké au format de document CSV, le fichier divise le film à l'aide d'un nouveau caractère de ligne <code>\n</code> et du symbole <code>,</code> divise l'information sur le film, y compris le nom du film, l'ID correspondant du film sur le site <a href="https://developers.themoviedb.org/3">TheMovieDB</a>, aussi le mode de stockage du film et l'année de sortie du film.</p>
<pre class="hljs"><code><div>
<span class="hljs-comment">// textFieldFilmNameAddFilmToTxt stocke le nom du film que l'utilisateur veut ajouter, comboBoxFilmModeAddFilmToTxt</span>
<span class="hljs-comment">// stocke le mode du film que l'utilisateur veut ajouter</span>
<span class="hljs-comment">// Check if the length of film name is 0, if then return error.</span>

    <span class="hljs-keyword">if</span>(textFieldFilmNameAddFilmToTxt.getText().length()==<span class="hljs-number">0</span>){
        JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>,<span class="hljs-string">"You must enter film name!"</span>,<span class="hljs-string">"ERROR"</span>,JOptionPane.PLAIN_MESSAGE);
        <span class="hljs-keyword">return</span>;
    }

        <span class="hljs-comment">// Write Film information into txt file, and add film into list model to show on screen.</span>
    <span class="hljs-keyword">try</span>{

        FileWriter fw=<span class="hljs-keyword">new</span> FileWriter(absoultePath,<span class="hljs-keyword">true</span>);
        fw.write(<span class="hljs-string">"\n"</span>+textFieldFilmNameAddFilmToTxt.getText()+<span class="hljs-string">","</span>+comboBoxFilmModeAddFilmToTxt.getSelectedItem().toString()+<span class="hljs-string">","</span>+<span class="hljs-number">0</span>+<span class="hljs-string">","</span>+<span class="hljs-number">0</span>);
        fw.close();
        
        listModel.addElement(<span class="hljs-keyword">new</span> ListModelElement(textFieldFilmNameAddFilmToTxt.getText(),comboBoxFilmModeAddFilmToTxt.getSelectedItem().toString()));
        listFilmInList.add(<span class="hljs-keyword">new</span> LesFilmsInList(textFieldFilmNameAddFilmToTxt.getText(),comboBoxFilmModeAddFilmToTxt.getSelectedItem().toString(),<span class="hljs-number">0</span>,<span class="hljs-string">"0"</span>));
        frameAddFilmToTxt.setVisible(<span class="hljs-keyword">false</span>);

    }<span class="hljs-keyword">catch</span>(IOException ioException){
        ioException.printStackTrace();
    }
</div></code></pre>
<h3 id="code-principale-pour-les-versions-2-3-et-4">Code principale pour les versions 2, 3 et 4</h3>
<p>Les versions 2, 3 et 4 utilisent principalement l'API <a href="https://developers.themoviedb.org/3">TheMovieDB</a>, cette API nous aide à obtenir toutes sortes d'informations sur le film, y compris le nom du film, l'ID du film, ainsi que les genres de film, l'année de sortie etc.</p>
<p>Nous utilisons <a href="https://square.github.io/retrofit/">Retrofit</a> pour appliquer l'API http à notre projet, nous utilisons <a href="https://square.github.io/retrofit/2.x/retrofit/retrofit2/Call.html"><code>Call</code></a> pour envoyer notre demande</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/Retrofit%20Call.png?raw=true">
<p>Et nous pouvons obtenir les données retournées <a href="https://square.github.io/retrofit/2.x/retrofit/retrofit2/Response.html"><code>response</code></a> <a href="https://square.github.io/retrofit/2.x/retrofit/retrofit2/Response.html#body--"><code>.body()</code></a></p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/Retrofit%20Response.png?raw=true">
<p>Nous recherchons le film en utilisant le nom du film entré par l'utilisateur, avec le API key et le text query pour faire les recherche.</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/SearchMovie%20TheMovieDB.png?raw=true">
<pre class="hljs"><code><div>    <span class="hljs-meta">@GET</span>(<span class="hljs-string">"3/search/movie"</span>)
    <span class="hljs-function">Call&lt;SearchMovie&gt; <span class="hljs-title">get_movie</span><span class="hljs-params">(
@Query(<span class="hljs-string">"api_key"</span>)</span> String apiKey,
@<span class="hljs-title">Query</span><span class="hljs-params">(<span class="hljs-string">"query"</span>)</span> String query
        )</span>;
</div></code></pre>
<pre class="hljs"><code><div>Call&lt;SearchMovie&gt; searchMovieCall=apiInterface.get_movie(utils.API_KEY,str);
searchMovieCall.enqueue(<span class="hljs-keyword">new</span> Callback&lt;SearchMovie&gt;(){
<span class="hljs-meta">@Override</span>
<span class="hljs-comment">// Invoked for a received HTTP response.</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onResponse</span><span class="hljs-params">(Call&lt;SearchMovie&gt; call,Response&lt;SearchMovie&gt; response)</span></span>{
    SearchMovie searchMovie=response.body();
}

<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailure</span><span class="hljs-params">(Call&lt;SearchMovie&gt; call,Throwable throwable)</span></span>{
    throwable.getMessage();
}
</div></code></pre>
<p>Par exemple, nous rechercherons des informations sur le film Iron Man, et donc le query_string ici est &quot;Iron man&quot;, nous envoyons la demande avec le lien suivant: <code>https://api.themoviedb.org/3/search/movie?api_key=89e5521b3e8381cf6adc8f4c8432e07d&amp;language=en-US&amp;query=Iron%20man&amp;page=1&amp;include_adult=false</code></p>
<p>Le site <a href="https://www.postman.com">Postman</a> nous permet de Debug facilement notre réponse (<code>response.body()</code>), nous envoyons le lien que nous avons obtenue à <a href="https://www.postman.com">Postman</a> et obtenons les résultats suivants:</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/Postman%20Resultat%201.png?raw=true">
<p>Donc nous pouvons facilement obtenir chaque l'ID du film que nous avons cherché.</p>
<p>Nous stockons ces ID dans une liste, et nous ajoutons un <code>ListSelectionListener</code> à notre liste afin que lorsque les utilisateurs changent leurs sélections, nous puissions obtenir leurs identifiants de film sélectionnés et rechercher des informations de film par rapport d'ID.</p>
<img src="https://github.com/Marshellson/Cinematheque/blob/main/rapport_image/TheMovieDB%20Get%20Detail.png?raw=true">
<p>De même, nous utilisons cette méthode pour obtenir les détails du film sur l'ID du film que nous stockons dans le fichier.</p>
<pre class="hljs"><code><div>listSearchRemote.addListSelectionListener(<span class="hljs-keyword">new</span> ListSelectionListener(){
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">valueChanged</span><span class="hljs-params">(ListSelectionEvent e)</span></span>{

    <span class="hljs-comment">// Get the value only when the left key is released.</span>
    <span class="hljs-keyword">if</span>(e.getValueIsAdjusting()){
        <span class="hljs-keyword">return</span>
    };

    <span class="hljs-comment">// Instantiate the movie info which selected.</span>
    SearchResult searchResultSelect=searchResultArrayList.get(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">try</span>{
        searchResultSelect=searchResultArrayList.get(listSearchRemote.getSelectedIndex());
    }<span class="hljs-keyword">catch</span>(Exception exception){
        exception.printStackTrace();
    }

    <span class="hljs-keyword">int</span> searchResultFilmId=searchResultSelect.iddefilm;
    String searchResultFilmNom=searchResultSelect.nomdefilm;

        <span class="hljs-comment">// Use the movie id which we got to get movie info.</span>
        Call&lt;Movie.movie_detail&gt;callMovieDetail=apiInterface.get_movie_by_id(searchResultFilmId,utils.API_KEY);

        callMovieDetail.enqueue(<span class="hljs-keyword">new</span> Callback&lt;Movie.movie_detail&gt;(){
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onResponse</span><span class="hljs-params">(Call&lt;Movie.movie_detail&gt;call,Response&lt;Movie.movie_detail&gt;response)</span></span>{
        Movie.movie_detail movieDetail=response.body();
        }<span class="hljs-keyword">catch</span>(IOException ioException){
<span class="hljs-comment">//  ioException.printStackTrace();</span>
        jLabelPostImage.setText(<span class="hljs-string">"This movie has no post image"</span>);
        }
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFailure</span><span class="hljs-params">(Call&lt;Movie.movie_detail&gt;call,Throwable throwable)</span></span>{
        JOptionPane.showMessageDialog(<span class="hljs-keyword">null</span>,<span class="hljs-string">"You must enter film name!"</span>,<span class="hljs-string">"ERROR"</span>,JOptionPane.PLAIN_MESSAGE);
        }
</div></code></pre>
<div style="page-break-after: always;"></div>
<h2 id="conclure">Conclure</h2>

</body>
</html>
